# Российский Университет Дружбы народов
### факультет физико-математических и естественных наук
### кафедра прикладной информатики и теории вероятности




## Отчёт по лабораторной работе №6. Анализ файловой системы Linux. Команды для работы с файлами и каталогами
...
### **дисциплина: "операционные системы"**





### Студент: Тасыбаева Наталья Сергеевна

### Группа: НПИбд-02-20


**Москва 2021**


# Цель работы

**Ознакомление с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобретение практических навыков по применению команд для
работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.**

# Задание

Задачи, которые нам необходимо выполнить:
 >1. Выполните все примеры, приведённые в первой части описания лабораторной
работы.
>2. Выполните следующие действия, зафиксировав в отчёте по лабораторной работе
используемые при этом команды и результаты их выполнения:
>>2.1. Скопируйте файл /usr/include/sys/io.h в домашний каталог и назовите
его equipment. Если файла io.h нет, то используйте любой другой файл в
каталоге /usr/include/sys/ вместо него.

>>2.2. В домашнем каталоге создайте директорию ~/ski.plases.
>>
>>2.3. Переместите файл equipment в каталог ~/ski.plases.
>>
>>2.4. Переименуйте файл ~/ski.plases/equipment в
~/ski.plases/equiplist.

>>2.5. Создайте в домашнем каталоге файл abc1 и скопируйте его в каталог
~/ski.plases, назовите его equiplist2.

>>2.6. Создайте каталог с именем equipment в каталоге ~/ski.plases.
>>
>>2.7. Переместите файлы ~/ski.plases/equiplist и equiplist2 в каталог
~/ski.plases/equipment.

>>2.8. Создайте и переместите каталог ~/newdir в каталог ~/ski.plases и назовите его plans.
>3. Определите опции команды chmod, необходимые для того, чтобы присвоить перечисленным ниже файлам выделенные права доступа, считая, что в начале таких прав нет:
>>3.1. drwxr--r-- ... australia
>>
>>3.2. drwx--x--x ... play
>>
>>3.3. -r-xr--r-- ... my_os
>>
>>3.4. -rw-rw-r-- ... feathers
При необходимости создайте нужные файлы.
>4. Проделайте приведённые ниже упражнения, записывая в отчёт по лабораторной
работе используемые при этом команды:
>>4.1. Просмотрите содержимое файла /etc/password.
>>
>>4.2. Скопируйте файл ~/feathers в файл ~/file.old.
>>
>>4.3. Переместите файл ~/file.old в каталог ~/play.
>>
>>4.4. Скопируйте каталог ~/play в каталог ~/fun.
>>
>>4.5. Переместите каталог ~/fun в каталог ~/play и назовите его games.
>>
>>4.6. Лишите владельца файла ~/feathers права на чтение.
>>
>>4.7. Что произойдёт, если вы попытаетесь просмотреть файл ~/feathers командой cat?
>>
>>4.8. Что произойдёт, если вы попытаетесь скопировать файл ~/feathers?
>>
>>4.9. Дайте владельцу файла ~/feathers право на чтение.

>>4.10. Лишите владельца каталога ~/play права на выполнение.
>>
>>4.11. Перейдите в каталог ~/play. Что произошло?
>>
>>4.12. Дайте владельцу каталога ~/play право на выполнение.
>5. Прочитайте man по командам mount, fsck, mkfs, kill и кратко их охарактеризуйте, приведя примеры.
 # Ход работы
 
 1. Я выполнила все примеры, приведённые в первой части описания лабораторной
работы.
>![пример 1.4](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EXxDjmEgzGpDpNmPXpJg8KIBhnYDGyXW3A_eKTU_wr-YEw?e=gnZrXO>)
>![пример 1.2](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/Ebg8PhvpWyhOs4rkQH25JKQBP1U8G1irUyn1vRSCcJ51tQ?e=bDeoC4>)
>![пример 1.3](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EQXR0kTVJ_lMopV4OaR_YUsBGG9n-pVsZmYL0_Q10Ian1g?e=Ohz63j>)
>![пример 1.4](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EfZOPkwCMetJpoUMd2yV7TIBt9pazksc0rZVOAg6ohPQMA?e=GZQBlR>)
>![пример 2.1](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EdyJh6iLqm9CvzVyP1cEZhEBeCGBVmXh4cpkxB1vgyGG3A?e=cSurga>)
>![пример 2.2](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EREYns6pyRNAnX8H0IjNhiQBv6oOncFxD1Q5g0IupgoxsA?e=BZmwRP>)
>![пример 3.1](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EfX74CQZvPRMmBdiJ9ogHboBBDTp8F5mu-fVTxBsrBg-Ow?e=Or0Ljl>)
>![пример 3.2](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EWrxTnJzqUpBla7S4jX8ESQB8ddLunis4xA8iS5UqvQl6w?e=0FeCAe>)
>![пример 3.3](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EVx_Na-3qXJBmO14FlysJccB3oxwuVN9d17tRX7CrcJavg?e=ZVEuwF>)
 2. Выполнила указанные в задании действия, при этом я использовала команды:
>![mv](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EXi8s-L7LPxGr3fF8anNu50BJkUqAogjRzAJJPfLY6rsbA?e=P34FSH>)
>![mv, mkdir, ls](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EQRMtv6B4L5Blj19nEsWyU0B3G-KCQ6ruOJ4q-bFqAOTUg?e=6MrtpS>)
>![cp, mv, mkdir](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EVbBkpPrKIFMigmW4KSuQp0BEDYhCSIgJBSOutVOf5jZwA?e=O5a0U6>)
 3. Определила опции команды chmod, необходимые для того, чтобы присвоить перечисленным в задании файлам необходимые права доступа, считая, что в начале таких прав нет:
>![создаём необходимые нам файлы](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EdgIZx2JXItLt6ZcEQl3-XAB85V570SOaAkcjWbiXnOhBw?e=XhPHmY>)
>![редактируем права доступа к этим файлам, как указано в задании](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EQgb-Q39yYJPsUJLX3Hfl-gBp2sx38v91CmaoIESDKrxzQ?e=t4bcJj>)
>![проверяем первые два файла](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EWpB8mIGInNMiBFjzW1HX5YBJfcwRbAK3mEhzTsLXEUFvg?e=pipYZ7>)
>![проверяем вторые два файла](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EUsWDYrPKu5EktVGUeSNS7wBb5z2CkDK26JzUl1CCEuC6w?e=9LVf9A>)
 4. Проделала приведённые в задании упражнения, при этом я использовала команды: cp, mv, mkdir, chmod, cd, ls. 
 >![Первая часть задания](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EXhBtwUqwRhPtyC98h7uXrkBYAiYcBKgN8N3aCLosV0UFA?e=B6fIRq>)
 >![Вторая часть задания](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/ETxTv7Gk4JZGuEMwRilMHCsBfzwCUOID0Q3wDQ-V7k4yaA?e=tfVKqy>)
 5. . Прочитала man по командам mount, fsck, mkfs, kill и кратко их охарактеризуйте, приведя примеры.
 >![fsck](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EV23UIsJ1Z5Hv-SAR-PkIekBlLtubvNYmJ7IjXLodWfn2A?e=05i7wX>)
 >![mkfs](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EVn-9EcLP0xMqrbnxp2CHP4BL8MGoaCAnX-ucBja9VUDuQ?e=kSFSPR>)
 >![kill](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EfzON6xUaJFCjz9PdAlY0JQBt22PFvSHztwvKbxBQD9G6w?e=y5Cwvv>)
 >![mount](<https://pfur-my.sharepoint.com/:i:/g/personal/1032201735_pfur_ru/EeVThm0mjEhKrRy6hwz997kBktq5UYfe-bTuXBdSeIHYdg?e=rIeOxt>)

 
 
# Вывод
**Я ознакомилась с файловой системой Linux, её структурой, именами и содержанием каталогов, приобрела практические наввыки по применению команд для
работы с файлами и каталогами, по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.**
 
 
# Ответы на контрольные вопросы:
2) Файловая система в дисплейном классе содержит следующие каталоги первого уровня:

· /bin - Основные программы, необходимые для работы в системе: командные оболочки shell, основные утилиты.

· /boot - Каталог, который содержит ядро системы— главную программу, загружающую и исполняющую все остальные.

· /dev - Каталог, в котором содержатся псевдофайлы устройств. С точки зрения Linux все физические устройства, как главные, так и периферийные, представляют собой файлы особого типа, в которые система может записывать данные и из которых она может их считывать. Пользователь не должен работать с этими файлами, поскольку запись неправильных данных в файл устройства может повредить устройство или хранящиеся на нём данные.

· /etc - В этом каталоге содержатся системные конфигурационные файлы — текстовые файлы, которые считываются при загрузке системы и запуске программ и определяют их поведение. Настройка и администрирование Linux в конечном итоге сводится к редактированию этих файлов, даже если оно выполняется при помощи графических средств конфигурирования системы.

· /home - В структуре файловой системы Linux каждый пользователь имеет отдельный личный каталог для своих данных (т.н. домашний каталог), и все пользовательские каталоги выделены в отдельный общий каталог /home.

· /mnt - Каталоги для монтирования файловых систем сменных устройств и внешних файловых систем.

· /proc - Файловая система на виртуальном устройстве, её файлы содержат информацию о текущем состоянии системы.

· /root - Каталог администратора системы.

· /sbin - Системные утилиты.

· /usr - Программы и библиотеки, доступные пользователю.

· /var - Рабочие файлы программ, различные временные данные: очереди (письма на отправку, файлы на печать и др.), системные журналы (файлы, в которые записывается информация о происходящих в системе событиях).

· /tmp - Временные файлы.

3. Какая операция должна быть выполнена, чтобы содержимое некоторой файловой системы было доступно операционной системе?

Для того чтобы содержимое некоторой файловой системы было доступно операционной системе, необходимо выполнить команду mount.

4. Назовите основные причины нарушения целостности файловой системы. Как устранить повреждения файловой системы?

Некорректность файловой системы может возникать не только в результате насильственного прерывания операций ввода-вывода, выполняемых непосредственно с диском, но и в результате нарушения работы дискового кэша. Кэширование данных с диска предполагает, что в течение некоторого времени результаты операций ввода-вывода никак не сказываются на содержимом диска — все изменения происходят с копиями блоков диска, временно хранящихся в буферах оперативной памяти. В этих буферах оседают данные из пользовательских файлов и служебная информация файловой системы, такая как каталоги, индексные дескрипторы, списки свободных, занятых и поврежденных блоков и т. п.

5. Как создаётся файловая система?

Разбитие диска на разделы и создание ФС в Linux делается при помощи специальных утилит – cfdisk fdisk sfdisk mke2fs mkfs mkfs.ext2 mkfs.ext3 mkfs.ext4 mkswap partimage parted указывая им в качестве аргумента конкретное блочное устройство (/dev/***). Блочные устройства HDD вида /dev/sda можно использовать целиком для единственной ФС, но это редко применяется на практике. Лучше разделить все пространство на разделы меньшего размера и использовать их под разные задачи.

6. Дайте характеристику командам, которые позволяют просмотреть текстовые файлы.

Для просмотра небольших файлов удобно пользоваться командой cat.

Формат команды: cat имя-файла Для просмотра больших файлов используйте команду less — она позволяет осуществлять постраничный просмотр файлов (длина страницы соответствует размеру экрана). Формат команды: less имя-файла Для управления процессом просмотра вы можете использовать следующие управляющие клавиши: Пробел → переход на следующую страницу, ENTER → сдвиг вперед на одну строку, b → возврат на предыдущую страницу, h → обращение за подсказкой, q → выход в режим командной строки. Для просмотра начала файла вы можете воспользоваться командой head. По умолчанию она выводит первые 10 строк файла.

7. Приведите основные возможности команды cp в Linux.

Копирование файлов и каталогов осуществляется при помощи команды cp. Формат команды: cp[-опции] исходный_файл целевой_файл. Опция i в команде cp поможет избежать уничтожения информации в случае, если на место целевого файла вы поставите имя уже существующего файла: система попросит подтвердить, что вы хотите перезаписать этот файл. Команда cp с опцией r (recursive) позволяет копировать каталоги вместе с входящими в них файлами и каталогами

8. Назовите и дайте характеристику командам перемещения и переименования файлов и каталогов.

Команды mv и mvdir предназначены для перемещения и переименования файлов и каталогов. Формат команды: mv [-опции] старый_файл новый_файл. Для получения предупреждения перед переписыванием файла стоит использовать опцию i.

9. Что такое права доступа? Как они могут быть изменены? При ответах на вопросы используйте дополнительные источники информации по теме.

Права доступа определяют, кто и что может делать с содержимым файла. Существуют три группы прав доступа: для владельца файла, для членов группы, для всех остальных Для изменения прав доступа к файлу или каталогу используется команда chmod. Права доступа к файлу может поменять только владелец или суперпользователь (администратор). Формат команды: chmod режим имя_файла. Режим (в формате команды) имеет следующую структуру и способ записи:

· = установить право;

· - лишить права;

· + дать право;

· r чтение;

· w запись;

· x выполнение;

· u (user) владелец файла;

· g (group) группа, к которой принадлежит владелец файла;

· (others) все остальные

10. ls -l — показывает доп. информацию о файле, типа дата изменения, права, владелей и т.д.

11. Относительный путь — путь к файлу к которому не нужно задавать полное местонахождение, а можно обойтись быстым вводом. Примеры относительных путей:

file.php (файл лежит в той же папке)

./file.php (файл лежит в той же папке. такая запись иногда требуется в некоторых UNIX системах)

images/picture.jpg (файл лежит в капке images, которая находится в текущей)

../file.php (файл лежит в папке, которая расположена на один уровень выше от текущей)

../../file.php (файл лежит в папке, которая расположена на два уровня выше от текущей

примеры абсолютных путей: /var/www/site/forum/index.php ; /img/frame.gif

12)Можно использовать опцию - - help или при помощи man program или program --info

13)Введя первые буквы и нажав клавишу Tab можно найти все файлы, прочее, можно также искать по разным *wildcard

После символа Дополнение имени переменной (поиск среди имен

$ установленных переменных среды)

После символа Дополнение имени машины (поиск среди имен ма-

@ шин в файле /etc/hosts)

После символа Дополнение имени пользователя (поиск среди имен
 



